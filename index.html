<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>US Life Guide</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
</head>
<body>

    <!-- Auth Screen -->
    <div id="authScreen" class="screen active">
        <div class="center-box">
            <h1>🇺🇸 US Life Guide</h1>
            <p>ဘဝနေထိုင်မှု၊ ငွေကြေးနှင့် အထွေထွေလမ်းညွှန်</p>
            <button onclick="signIn()" class="btn-google"><i class="fab fa-google"></i> Login with Google</button>
        </div>
    </div>

    <!-- Main App -->
    <div id="appScreen" class="screen">
        
        <!-- TOP HEADER -->
        <header>
            <div class="logo">US Life 🇺🇸</div>
            <button onclick="logout()" class="icon-btn"><i class="fas fa-sign-out-alt"></i></button>
        </header>

        <!-- CONTENT AREA (SCROLLABLE) -->
        <div id="contentArea">
            
            <!-- 1. WALLET TAB -->
            <div id="tab-wallet" class="tab-content active">
                <div class="balance-card">
                    <small>လက်ကျန်ငွေ (Balance)</small>
                    <h2 id="totalBalance">$0.00</h2>
                    <div class="row">
                        <div class="green"><i class="fas fa-arrow-down"></i> <span id="incDisplay">$0</span></div>
                        <div class="red"><i class="fas fa-arrow-up"></i> <span id="expDisplay">$0</span></div>
                    </div>
                </div>

                <h3>📊 Monthly Subscriptions</h3>
                <p style="font-size:12px; color:#666;">လစဉ်ကြေးပေးရသည်များကို စစ်ဆေးပါ/ဖျက်ပါ</p>
                <div id="subList" class="list-group"></div>
                <button class="btn-float" onclick="openSubModal()">+ Sub</button>
            </div>

            <!-- 2. GUIDES TAB -->
            <div id="tab-guides" class="tab-content">
                <h3>📚 လမ်းညွှန်များ (Guides)</h3>
                <div class="grid-menu">
                    <div class="menu-item" onclick="showGuide('id')">🪪 ID/SSN/EAD</div>
                    <div class="menu-item" onclick="showGuide('driving')">🚗 Driver License</div>
                    <div class="menu-item" onclick="showGuide('housing')">🏠 အိမ်ဝယ်/ငှား</div>
                    <div class="menu-item" onclick="showGuide('car')">🚙 ကားဝယ်နည်း</div>
                    <div class="menu-item" onclick="showGuide('uscis')">🗽 USCIS/Citizenship</div>
                    <div class="menu-item" onclick="showGuide('snap')">🍔 Foodstamp (SNAP)</div>
                </div>
            </div>

            <!-- 3. NEAR ME TAB -->
            <div id="tab-near" class="tab-content">
                <h3>📍 Near Me (နီးစပ်ရာ ရှာဖွေရန်)</h3>
                <div class="list-group">
                    <button class="map-btn" onclick="searchMap('cheap grocery store')">🥦 ဈေးသက်သာသော ကုန်စုံဆိုင်များ</button>
                    <button class="map-btn" onclick="searchMap('asian market')">🍜 အာရှ/မြန်မာ ဆိုင်များ</button>
                    <button class="map-btn" onclick="searchMap('gas station cheap price')">⛽ ဆီဈေးသက်သာသော ဆိုင်များ</button>
                    <button class="map-btn" onclick="searchMap('burmese restaurant')">🍲 မြန်မာ ထမင်းဆိုင်များ</button>
                    <button class="map-btn" onclick="searchMap('shopping mall outlets')">🛍️ Discount Outlets</button>
                    <button class="map-btn" onclick="searchMap('public library')">📚 စာကြည့်တိုက် (Wi-Fi Free)</button>
                </div>
            </div>

            <!-- 4. CARE TAB -->
            <div id="tab-care" class="tab-content">
                <h3>❤️ Health & Community</h3>
                <div class="card">
                    <h4>🏥 ကျန်းမာရေး (Health)</h4>
                    <p>အမေရိကတွင် ကျန်းမာရေးစရိတ်ကြီးမားပါသည်။ အောက်ပါတို့ကို သိထားပါ-</p>
                    <ul>
                        <li><b>Medicaid:</b> ဝင်ငွေနည်းသူများအတွက် အခမဲ့။</li>
                        <li><b>Urgent Care:</b> အသက်အန္တရာယ်မစိုးရိမ်ရလျှင် ER မသွားဘဲ Urgent Care သွားပါ (ပိုသက်သာသည်)။</li>
                    </ul>
                </div>
                <div class="card">
                    <h4>🤝 Community Services</h4>
                    <p>အကူအညီလိုပါက -</p>
                    <button class="link-btn" onclick="window.open('https://www.findhelp.org','_blank')">🌐 FindHelp.org (အစားအသောက်/အိမ်ရာ)</button>
                    <button class="link-btn" onclick="window.open('https://www.211.org','_blank')">📞 Call 2-1-1 (လူမှုကူညီရေး)</button>
                </div>
            </div>

        </div>

        <!-- BOTTOM NAVIGATION -->
        <nav class="bottom-nav">
            <div class="nav-item active" onclick="switchTab('wallet')">
                <i class="fas fa-wallet"></i><span>Wallet</span>
            </div>
            <div class="nav-item" onclick="switchTab('guides')">
                <i class="fas fa-book"></i><span>Guides</span>
            </div>
            <div class="nav-item" onclick="switchTab('near')">
                <i class="fas fa-map-marker-alt"></i><span>Near Me</span>
            </div>
            <div class="nav-item" onclick="switchTab('care')">
                <i class="fas fa-heart"></i><span>Care</span>
            </div>
        </nav>
    </div>

    <!-- MODALS -->
    
    <!-- Add Subscription Modal -->
    <div id="subModal" class="modal">
        <div class="modal-box">
            <h3>Add Subscription</h3>
            <input type="text" id="subName" placeholder="Name (e.g. Netflix, Gym)">
            <input type="number" id="subCost" placeholder="Monthly Cost ($)">
            <input type="date" id="subDate" placeholder="Due Date">
            <div class="row">
                <button onclick="closeModal('subModal')">Cancel</button>
                <button onclick="saveSub()" class="primary">Save</button>
            </div>
        </div>
    </div>

    <!-- Guide Reader Modal -->
    <div id="guideModal" class="modal">
        <div class="modal-box full-screen">
            <div class="modal-header">
                <h3 id="guideTitle">Title</h3>
                <button onclick="closeModal('guideModal')">&times;</button>
            </div>
            <div id="guideContent" class="guide-body"></div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>